{% extends 'base/base.html' %}

{% block links %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static "food/menu.css"%}" />
{% endblock %}

{% block content %}
<h1>Список всех блюд</h1>
<a class="btn btn-primary" href="{% url 'food:dish_form' %}">Добавить блюдо</a>
<div class="d-flex flex-md-row flex-wrap">
    {% for dish in dish_list %}
    <div class="card m-2">
        <div class="card-header">
            <a class="card-title" href="{% url 'food:dish_detail' dish.id %}">{{ dish.name }}</a>
        </div>
        <div class="img-preview m-2">
            {% if dish.image %}
            <img src={{ dish.image.url }} class="card-img-top" width="400" />
            {% else %}
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/330px-No-Image-Placeholder.svg.png?20200912122019"
                class="card-img-top" width="400">
            {% endif %}
        </div>
        <div class="card-body">
            <p class="card-text">Описание: {{ dish.description }}</p>
        </div>
        <div class="d-flex justify-content-around card-footer">
            <a class="btn btn-warning" href="{% url 'food:update_dish' dish.id %}">Изменить</a>
            <a class="btn btn-danger" href="{% url 'food:delete_dish' dish.id %}"
                onclick="return confirm('Вы уверены, что хотите удалить это блюдо?');">Удалить</a>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}